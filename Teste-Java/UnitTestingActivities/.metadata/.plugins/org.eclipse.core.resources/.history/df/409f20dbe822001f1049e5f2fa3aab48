package com.example.atividades.atividade14;

import static org.mockito.Mockito.*;

import org.junit.jupiter.api.Test;

public class TestEventHandler {

    @Test
    public void testHandleEvent_ValidEvent() {
        // Crie um mock para EmailService
        EmailService mockEmailService = mock(EmailService.class);

        // Crie uma instância de EventHandler com o mock EmailService
        EventHandler eventHandler = new EventHandler(mockEmailService);

        // Chame o método handleEvent com um evento válido
        eventHandler.handleEvent("Valid event");

        // Verifique se o método sendEmail foi chamado corretamente
        verify(mockEmailService, times(1)).sendEmail(eq("test@example.com"), eq("Event Occurred"), eq("Valid event"));
    }

    @Test
    public void testHandleEvent_NullEvent() {
        // Crie um mock para EmailService
        EmailService mockEmailService = mock(EmailService.class);

        // Crie uma instância de EventHandler com o mock EmailService
        EventHandler eventHandler = new EventHandler(mockEmailService);

        // Chame o método handleEvent com um evento nulo
        eventHandler.handleEvent(null);

        // Verifique se o método sendEmail não foi chamado
        verify(mockEmailService, never()).sendEmail(any(), any(), any());
    }
}

