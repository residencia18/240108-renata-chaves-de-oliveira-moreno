{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { adicionarTarefa, removerTarefa, atualizarTarefa } from './tarefa.actions';\nconst estadoSalvo = localStorage.getItem('tarefasEstado');\nconst estadoInicial = estadoSalvo ? JSON.parse(estadoSalvo) : {\n  tarefas: []\n};\nexport const tarefasReducer = createReducer(estadoInicial, on(adicionarTarefa, (estado, {\n  tarefa\n}) => {\n  const newState = {\n    ...estado,\n    tarefas: [...estado.tarefas, tarefa]\n  };\n  localStorage.setItem('tarefasEstado', JSON.stringify(newState));\n  return newState;\n}), on(removerTarefa, (estado, {\n  id\n}) => {\n  const newState = {\n    ...estado,\n    tarefas: estado.tarefas.filter(t => t.id !== id)\n  };\n  localStorage.setItem('tarefasEstado', JSON.stringify(newState));\n  return newState;\n}), on(atualizarTarefa, (estado, {\n  id,\n  novaDescricao\n}) => {\n  const newState = {\n    ...estado,\n    tarefas: estado.tarefas.map(tarefa => tarefa.id === id ? {\n      ...tarefa,\n      descricao: novaDescricao\n    } : tarefa)\n  };\n  localStorage.setItem('tarefasEstado', JSON.stringify(newState));\n  return newState;\n}));","map":{"version":3,"names":["createReducer","on","adicionarTarefa","removerTarefa","atualizarTarefa","estadoSalvo","localStorage","getItem","estadoInicial","JSON","parse","tarefas","tarefasReducer","estado","tarefa","newState","setItem","stringify","id","filter","t","novaDescricao","map","descricao"],"sources":["C:\\Users\\renat\\Documents\\FrontEndAvancado\\Praticas\\FEAP011\\atividade\\src\\app\\store\\tarefa.reducer.ts"],"sourcesContent":["import { createReducer, on } from '@ngrx/store';\r\nimport { Tarefa } from '../tarefa.model';\r\nimport { adicionarTarefa, removerTarefa, atualizarTarefa } from './tarefa.actions';\r\n\r\nexport interface TarefaState {\r\n    tarefas: Tarefa[];\r\n}\r\n\r\nconst estadoSalvo = localStorage.getItem('tarefasEstado');\r\nconst estadoInicial: TarefaState = estadoSalvo ? JSON.parse(estadoSalvo) : { tarefas: [] };\r\n\r\nexport const tarefasReducer = createReducer(\r\n    estadoInicial,\r\n    on(adicionarTarefa, (estado: TarefaState, { tarefa }) => {\r\n        const newState = { ...estado, tarefas: [...estado.tarefas, tarefa] };\r\n        localStorage.setItem('tarefasEstado', JSON.stringify(newState));\r\n        return newState;\r\n    }),\r\n    on(removerTarefa, (estado: TarefaState, { id }) => {\r\n        const newState = { ...estado, tarefas: estado.tarefas.filter(t => t.id !== id) };\r\n        localStorage.setItem('tarefasEstado', JSON.stringify(newState));\r\n        return newState;\r\n    }),\r\n    on(atualizarTarefa, (estado: TarefaState, { id, novaDescricao }) => {\r\n        const newState = {\r\n            ...estado,\r\n            tarefas: estado.tarefas.map(tarefa => tarefa.id === id ? { ...tarefa, descricao: novaDescricao } : tarefa)\r\n        };\r\n        localStorage.setItem('tarefasEstado', JSON.stringify(newState));\r\n        return newState;\r\n    })\r\n);\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,EAAE,QAAQ,aAAa;AAE/C,SAASC,eAAe,EAAEC,aAAa,EAAEC,eAAe,QAAQ,kBAAkB;AAMlF,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;AACzD,MAAMC,aAAa,GAAgBH,WAAW,GAAGI,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC,GAAG;EAAEM,OAAO,EAAE;AAAE,CAAE;AAE1F,OAAO,MAAMC,cAAc,GAAGZ,aAAa,CACvCQ,aAAa,EACbP,EAAE,CAACC,eAAe,EAAE,CAACW,MAAmB,EAAE;EAAEC;AAAM,CAAE,KAAI;EACpD,MAAMC,QAAQ,GAAG;IAAE,GAAGF,MAAM;IAAEF,OAAO,EAAE,CAAC,GAAGE,MAAM,CAACF,OAAO,EAAEG,MAAM;EAAC,CAAE;EACpER,YAAY,CAACU,OAAO,CAAC,eAAe,EAAEP,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;EAC/D,OAAOA,QAAQ;AACnB,CAAC,CAAC,EACFd,EAAE,CAACE,aAAa,EAAE,CAACU,MAAmB,EAAE;EAAEK;AAAE,CAAE,KAAI;EAC9C,MAAMH,QAAQ,GAAG;IAAE,GAAGF,MAAM;IAAEF,OAAO,EAAEE,MAAM,CAACF,OAAO,CAACQ,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE;EAAC,CAAE;EAChFZ,YAAY,CAACU,OAAO,CAAC,eAAe,EAAEP,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;EAC/D,OAAOA,QAAQ;AACnB,CAAC,CAAC,EACFd,EAAE,CAACG,eAAe,EAAE,CAACS,MAAmB,EAAE;EAAEK,EAAE;EAAEG;AAAa,CAAE,KAAI;EAC/D,MAAMN,QAAQ,GAAG;IACb,GAAGF,MAAM;IACTF,OAAO,EAAEE,MAAM,CAACF,OAAO,CAACW,GAAG,CAACR,MAAM,IAAIA,MAAM,CAACI,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGJ,MAAM;MAAES,SAAS,EAAEF;IAAa,CAAE,GAAGP,MAAM;GAC5G;EACDR,YAAY,CAACU,OAAO,CAAC,eAAe,EAAEP,IAAI,CAACQ,SAAS,CAACF,QAAQ,CAAC,CAAC;EAC/D,OAAOA,QAAQ;AACnB,CAAC,CAAC,CACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}